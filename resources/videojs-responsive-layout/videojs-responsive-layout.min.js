/**
 * videojs-responsive-layout
 * @version 1.1.0
 * @copyright 2015 Derk-Jan Hartman
 * @license (MIT OR Apache-2.0)
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsResponsiveLayout=e()}}(function(){return function e(t,n,o){function i(u,s){if(!n[u]){if(!t[u]){var l="function"==typeof require&&require;if(!s&&l)return l(u,!0);if(r)return r(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var d=n[u]={exports:{}};t[u][0].call(d.exports,function(e){var n=t[u][1][e];return i(n?n:e)},d,d.exports,e,t,n,o)}return n[u].exports}for(var r="function"==typeof require&&require,u=0;u<o.length;u++)i(o[u]);return i}({1:[function(e,t,n){},{}],2:[function(e,t,n){var o=e("./throttle");t.exports=function(e,t,n){return void 0===n?o(e,t,!1):o(e,n,t!==!1)}},{"./throttle":4}],3:[function(e,t,n){t.exports={throttle:e("./throttle"),debounce:e("./debounce")}},{"./debounce":2,"./throttle":4}],4:[function(e,t,n){var o=e("jquery");t.exports=function(e,t,n,i){function r(){function o(){s=Number(new Date),n.apply(l,d)}function r(){u=void 0}var l=this,a=Number(new Date)-s,d=arguments;i&&!u&&o(),u&&clearTimeout(u),void 0===i&&a>e?o():t!==!0&&(u=setTimeout(i?r:o,void 0===i?e-a:e))}var u,s=0;return"boolean"!=typeof t&&(i=n,n=t,t=void 0),o&&o.guid&&(r.guid=n.guid=n.guid||o.guid++),r}},{jquery:1}],5:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s="undefined"!=typeof window?window.videojs:"undefined"!=typeof o?o.videojs:null,l=i(s),a=e("throttle-debounce").debounce,d={debounceDelay:200,layoutMap:[{layoutClassName:"vjs-layout-tiny",width:2},{layoutClassName:"vjs-layout-x-small",width:3},{layoutClassName:"vjs-layout-small",width:4},{layoutClassName:"defaults",width:5}]},f=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)},c=function(e){return parseInt(getComputedStyle(e).width,10)},y=function(e){return e.offsetWidth>0||e.offsetHeight>0},v=function g(){var e=function(e){var t=e.player.el(),n=e.options.layoutMap[e.currentLayout_];"defaults"!==n.layoutClassName&&l["default"].addClass(t,n.layoutClassName),e.options.layoutMap.forEach(function(n,o){o!==e.currentLayout_&&"defaults"!==n.layoutClassName&&l["default"].removeClass(t,n.layoutClassName)})},t=function(t,n,o,i){var r=t.options.layoutMap;o>n&&t.currentLayout_>0?(t.currentLayout_--,e(t),window.setTimeout(g.bind(t),1)):t.currentLayout_<r.length-1&&n>=r[t.currentLayout_+1].width*i&&(t.currentLayout_++,e(t),window.setTimeout(g.bind(t),1))};if(this.el&&!this.player.usingNativeControls()&&y(this.el.querySelectorAll(".vjs-control-bar")[0])){var n=this.getPlayerWidth(),o=this.getControlWidth(),i=this.getControlBarWidth();this.options.calculateLayout?this.options.calculateLayout(this,n,i,o):t(this,n,i,o)}},p=function(){var e=document.getElementById("vjs-responsive-layout");if(!e){var t="\n      /* Fixes for videojs/video.js#2902 */\n      .vjs-responsive-layout .vjs-progress-control {\n        min-width: 4em;\n      }\n      /* Fixes for videojs/video.js#2923 */\n      .vjs-responsive-layout.vjs-layout-x-small:not(.vjs-fullscreen):not(.vjs-audio)\n      .vjs-volume-menu-button {\n        display: none;\n      }\n      .video-js.vjs-responsive-layout.vjs-layout-x-small:not(.vjs-fullscreen)\n      .vjs-fullscreen-control {\n        display: block;\n      }\n    ",n=document.getElementsByTagName("head")[0];e=document.createElement("style"),e.id="vjs-responsive-layout",e.styleSheet?e.styleSheet.cssText=t:e.textContent=t,n.insertBefore(e,n.firstChild)}},h=function(){function e(t,n){r(this,e),this.player_=t,this.options_=n,this.currentLayout_=n.layoutMap.length-1,this.debouncedCheckSize_=a(n.debounceDelay,v)}return u(e,[{key:"ready",value:function(){var e=this;p(),this.player.addClass("vjs-responsive-layout"),this.windowResizeListener_=window.addEventListener("resize",function(){return e.debouncedCheckSize_()}),this.player.on(["play","resize"],function(){return e.debouncedCheckSize_()}),this.player.on("dispose",function(){window.removeEventListener("resize",this.windowResizeListener_)}),this.player.trigger("resize")}},{key:"getControlWidth",value:function(){return f(this.el.querySelectorAll(".vjs-play-control")[0])}},{key:"getControlBarWidth",value:function(){var e=0,t=this.el.querySelectorAll(".vjs-control-bar > *");return Array.from(t).forEach(function(t){y(t)&&(e+=f(t))}),e}},{key:"getPlayerWidth",value:function(){return c(this.el)}},{key:"player",get:function(){return this.player_}},{key:"el",get:function(){return this.player_.el()}},{key:"options",get:function(){return this.options_}}],[{key:"getElementOuterWidth",value:function(e){return f(e)}},{key:"getElementWidth",value:function(e){return c(e)}},{key:"isElementVisible",value:function(e){return y(e)}}]),e}(),m=function(e){var t=new h(this,l["default"].mergeOptions(d,e));this.ready(function(){t.ready()})};l["default"].plugin("responsiveLayout",m),n["default"]=m,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"throttle-debounce":3}]},{},[5])(5)});