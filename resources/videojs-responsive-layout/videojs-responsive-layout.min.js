/**
 * videojs-responsive-layout
 * @version 1.0.0
 * @copyright 2015 Derk-Jan Hartman
 * @license (MIT OR Apache-2.0)
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsResponsiveLayout=e()}}(function(){return function e(t,n,l){function o(a,r){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!r&&u)return u(a,!0);if(s)return s(a,!0);var i=new Error("Cannot find module '"+a+"'");throw i.code="MODULE_NOT_FOUND",i}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,e,t,n,l)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<l.length;a++)o(l[a]);return o}({1:[function(e,t,n){},{}],2:[function(e,t,n){var l=e("./throttle");t.exports=function(e,t,n){return void 0===n?l(e,t,!1):l(e,n,t!==!1)}},{"./throttle":4}],3:[function(e,t,n){t.exports={throttle:e("./throttle"),debounce:e("./debounce")}},{"./debounce":2,"./throttle":4}],4:[function(e,t,n){var l=e("jquery");t.exports=function(e,t,n,o){function s(){function l(){r=Number(new Date),n.apply(u,f)}function s(){a=void 0}var u=this,i=Number(new Date)-r,f=arguments;o&&!a&&l(),a&&clearTimeout(a),void 0===o&&i>e?l():t!==!0&&(a=setTimeout(o?s:l,void 0===o?e-i:e))}var a,r=0;return"boolean"!=typeof t&&(o=n,n=t,t=void 0),l&&l.guid&&(s.guid=n.guid=n.guid||l.guid++),s}},{jquery:1}],5:[function(e,t,n){(function(l){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),r="undefined"!=typeof window?window.videojs:"undefined"!=typeof l?l.videojs:null,u=o(r),i=e("throttle-debounce").debounce,f={debounceDelay:400},d=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)},y=function(e){return parseInt(getComputedStyle(e).width,10)},v=function(e){return e.offsetWidth>0||e.offsetHeight>0},c=function(e,t){var n=e.el();"vjs-layout-tiny"===t?(u["default"].addClass(n,"vjs-layout-tiny"),u["default"].removeClass(n,"vjs-layout-small"),u["default"].removeClass(n,"vjs-layout-x-small")):"vjs-layout-x-small"===t?(u["default"].addClass(n,"vjs-layout-x-small"),u["default"].removeClass(n,"vjs-layout-tiny"),u["default"].removeClass(n,"vjs-layout-small")):"vjs-layout-small"===t?(u["default"].addClass(n,"vjs-layout-small"),u["default"].removeClass(n,"vjs-layout-tiny"),u["default"].removeClass(n,"vjs-layout-x-small")):(u["default"].removeClass(n,"vjs-layout-tiny"),u["default"].removeClass(n,"vjs-layout-x-small"),u["default"].removeClass(n,"vjs-layout-small"))},h=function(e){var t=e.el();if(u["default"].hasClass(t,"vjs-layout-tiny"))c(e,"vjs-layout-x-small");else if(u["default"].hasClass(t,"vjs-layout-x-small"))c(e,"vjs-layout-small");else{if(!u["default"].hasClass(t,"vjs-layout-small"))return;c(e,"default")}e.trigger("resize")},p=function(e){var t=e.el();u["default"].hasClass(t,"vjs-layout-tiny")||(u["default"].hasClass(t,"vjs-layout-x-small")?c(e,"vjs-layout-tiny"):u["default"].hasClass(t,"vjs-layout-small")?c(e,"vjs-layout-x-small"):c(e,"vjs-layout-small"),e.trigger("resize"))},m=function(e,t,n,l){var o=d(e.el.querySelectorAll(".vjs-progress-control")[0]);n>t?p(e.player):(u["default"].hasClass(e.el,"vjs-layout-x-small")||u["default"].hasClass(e.el,"vjs-layout-small"))&&o>2*l?h(e.player):t>n+l&&!u["default"].hasClass(e.el,"vjs-layout-x-small")&&!u["default"].hasClass(e.el,"vjs-layout-small")&&h(e.player)},j=function(){if(this.el){var e=this.getPlayerWidth(),t=this.getControlWidth(),n=this.getControlBarWidth();this.options.updateVideoJsLayout?this.options.updateVideoJsLayout(this,e,n,t):m(this,e,n,t)}},g=function(){var e=document.getElementById("vjs-responsive-layout");if(!e){var t="\n      .vjs-responsive-layout .vjs-progress-control {\n        min-width: 4em;\n      }\n    ",n=document.getElementsByTagName("head")[0];e=document.createElement("style"),e.id="vjs-responsive-layout",e.styleSheet?e.styleSheet.cssText=t:e.textContent=t,n.insertBefore(e,n.firstChild)}},C=function(){function e(t,n){s(this,e),this.player_=t,this.options_=n,this.debouncedCheckSize_=i(n.debounceDelay,j)}return a(e,[{key:"ready",value:function(){var e=this;g(),this.player.addClass("vjs-responsive-layout"),this.windowResizeListener_=window.addEventListener("resize",function(){return e.debouncedCheckSize_()}),this.player.on(["play","resize"],function(){return e.debouncedCheckSize_()}),this.player.on("dispose",function(){window.removeEventListener("resize",this.windowResizeListener_)}),this.player.trigger("resize")}},{key:"getControlWidth",value:function(){return d(this.el.querySelectorAll(".vjs-play-control")[0])}},{key:"getControlBarWidth",value:function(){var e=0,t=this.el.querySelectorAll(".vjs-control-bar > *");return Array.from(t).forEach(function(t){v(t)&&(e+=d(t))}),e}},{key:"getPlayerWidth",value:function(){return y(this.el)}},{key:"player",get:function(){return this.player_}},{key:"el",get:function(){return this.player_.el()}},{key:"options",get:function(){return this.options_}}],[{key:"getElementOuterWidth",value:function(e){return d(e)}},{key:"getElementWidth",value:function(e){return y(e)}},{key:"isElementVisible",value:function(e){return v(e)}}]),e}(),w=function(e){var t=new C(this,u["default"].mergeOptions(f,e));this.ready(function(){t.ready()})};u["default"].plugin("responsiveLayout",w),n["default"]=w,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"throttle-debounce":3}]},{},[5])(5)});